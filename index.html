<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Estimation de Force Brute avec Complexité</title>
<style>
html,body{margin:0;padding:0;width:100%;height:100%;overflow:hidden;background:black;font-family:Consolas,monospace;}
canvas{position:absolute;top:0;left:0;width:100%;height:100%;z-index:0;}
.glass{
  position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);
  backdrop-filter: blur(16px) saturate(200%);
  background: rgba(0,0,0,0.25);
  border-radius:20px;
  border:1px solid rgba(0,255,0,0.3);
  padding:20px 30px;
  width:90%; max-width:900px;
  text-align:center;
  color:#0f0;
  z-index:1;
  box-shadow:0 0 20px rgba(0,255,0,0.7);
}
h1{margin:0;color:#0f0;text-shadow:0 0 10px #0f0,0 0 20px #00ff00;}
label{display:block;margin-top:10px;font-size:14px;color:#88ff88;}
input{width:100%;padding:10px;margin-top:6px;border-radius:10px;border:none;background:rgba(0,255,0,0.08);color:#0f0;font-size:16px;}
#timer{margin-top:12px;font-size:14px;}
#complexity{margin-top:6px;font-size:16px;font-weight:bold;}
.progress{height:18px;background:rgba(0,255,0,0.1);border-radius:999px;margin-top:12px;overflow:hidden;}
.progress>div{height:100%;width:0;background:linear-gradient(90deg,#0f0,#00ff00);box-shadow:0 0 15px #0f0;transition:width .1s linear;}
</style>
</head>
<body>
<canvas id="matrix"></canvas>
<div class="glass">
  <h1>⏱ Estimation de Force Brute ⏱</h1>
  <label>Mot de passe</label>
  <input id="password" type="text" placeholder="Tape ton mot de passe">
  <div class="progress"><div id="bar"></div></div>
  <div id="timer">Temps estimé: --</div>
  <div id="complexity">Complexité: --</div>
</div>

<script>
const canvas=document.getElementById('matrix');
const ctx=canvas.getContext('2d');
let width=canvas.width=window.innerWidth;
let height=canvas.height=window.innerHeight;
let fontSize=Math.min(20,width/50);
let columns=Math.floor(width/fontSize);
let drops=new Array(columns).fill(1);

const pwdInput=document.getElementById('password');
const timerEl=document.getElementById('timer');
const barEl=document.getElementById('bar');
const complexityEl=document.getElementById('complexity');

// Fonction estimation par caractère
function estimateTime(pwd){
    if(!pwd) return 0;
    let totalCombos=1;
    for(let ch of pwd){
        if(/[a-z]/.test(ch)) totalCombos *=26;
        else if(/[A-Z]/.test(ch)) totalCombos *=26;
        else if(/[0-9]/.test(ch)) totalCombos *=10;
        else totalCombos *=32;
    }
    let seconds=totalCombos/1e8;
    return seconds;
}

function formatTime(sec){
    if(sec<60) return sec.toFixed(2)+' sec';
    let m=Math.floor(sec/60);
    let s=Math.floor(sec%60);
    if(m<60) return m+' min '+s+' sec';
    let h=Math.floor(m/60);
    let min=m%60;
    if(h<24) return h+' h '+min+' min';
    let d=Math.floor(h/24);
    h=h%24;
    return d+' j '+h+' h '+min+' min';
}

// Déterminer complexité
function getComplexity(sec){
    if(sec<10) return {text:'Faible',color:'red'};
    if(sec<3600) return {text:'Moyen',color:'yellow'};
    if(sec<86400*7) return {text:'Fort',color:'#88ff88'};
    return {text:'Ultra',color:'#0f0'};
}

pwdInput.addEventListener('input',()=>{
    const pwd=pwdInput.value;
    const sec=estimateTime(pwd);
    timerEl.textContent="Temps estimé: "+formatTime(sec);

    // Barre indicative
    barEl.style.width=Math.min(pwd.length*10,100)+'%';

    // Complexité
    const comp=getComplexity(sec);
    complexityEl.textContent="Complexité: "+comp.text;
    complexityEl.style.color=comp.color;
});

// Matrix background
const alphabet='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
function drawMatrix(){
    ctx.fillStyle="rgba(0,0,0,0.05)";
    ctx.fillRect(0,0,width,height);
    ctx.font=fontSize+"px monospace";
    ctx.fillStyle="#0f0";
    for(let i=0;i<drops.length;i++){
        const text=alphabet[Math.floor(Math.random()*alphabet.length)];
        ctx.fillText(text,i*fontSize,drops[i]*fontSize);
        drops[i]++;
        if(drops[i]*fontSize>height || Math.random()>0.97) drops[i]=0;
    }
    requestAnimationFrame(drawMatrix);
}
drawMatrix();

window.addEventListener('resize',()=>{
  width=canvas.width=window.innerWidth;
  height=canvas.height=window.innerHeight;
  fontSize=Math.min(20,width/50);
  columns=Math.floor(width/fontSize);
  drops=new Array(columns).fill(1);
});
</script>
